<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        <%= board_title%>
    </title>
    <link rel="stylesheet" href="/public/css/index.css" />
    <link rel="stylesheet" href="/public/css/publicate.css" />
</head>
<body>


    <div id="title">
        <h1>
            <%= board_title%>
        </h1>
        <canvas id="board-animation"></canvas>
    <script >
    let canvas=document.getElementById("board-animation");
    const ctx=canvas.getContext("2d") ;
    const params=new URLSearchParams(window.location.search);
    window.addEventListener("resize", (e) => {
        canvas.width=window.innerWidth;
        canvas.height=window.innerHeight;
        ctx.fillStyle = "rgba(0,0,0,0)";
        ctx.fillRect(0, 0, canvas.width, canvas.height);


    })

    setInterval(() => {
        let width=canvas.width/2;
        let height=canvas.height/2;

        for(let i=0;i<=100;i++){
            ctx.beginPath();
            ctx.fillStyle = `rgba(${Math.floor(Math.random()*255)},${Math.floor(Math.random()*255)},${Math.floor(Math.random()*255)},0.25)`;
            ctx.strokeStyle="#000"

            ctx.fillText(params.get("board"),Math.floor(Math.random()*canvas.width),Math.floor(Math.random()*canvas.height));
            ctx.stroke()
        }
        for(let i=0;i<=10;i++){
            ctx.beginPath();
            ctx.fillStyle = `rgba(${Math.floor(Math.random()*255)},${Math.floor(Math.random()*255)},${Math.floor(Math.random()*255)},0.70)`;
            ctx.strokeStyle="#000"
            ctx.font = '50px sans-serif';
            ctx.fillText(params.get("board"),Math.floor(width-10+Math.random()*20),Math.floor(width-10+Math.random()*20),200);
            ctx.stroke()
        }
    },100)
    </script>
    </div>


    <div id="container">

    <div>
        <div id="publicate">
        <h1>publicate something</h1>
            <form action="<%=req_url%>" method="post">
              <div>
              <input type="text" name="title" placeholder="title" id="title-publication"  /><br>
              </div><div>
              <textarea name="content" placeholder="content" ></textarea><br>
              </div>
               <div>
              <input type="submit" id="submit-bottom" value="submit" /><br>
            </div>
            </form>
        </div>
    </div>
    <!--line-->
    <div><div id="line"></div></div>
    <!--posts-->
    <div><div id="publications"></div></div>
    <!--line-->
     <div><div id="line"></div></div>
    <div id="index"></div>
    </div>

</body>
</html>
